<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>ZairuDuo Tweet Controller</title>
    <style>
        body { font-family: sans-serif; background: #1a1a1a; color: white; padding: 20px; display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100vh; margin: 0; }
        input { padding: 15px; width: 300px; border-radius: 8px; border: none; margin-bottom: 15px; text-align: center; font-size: 16px; }
        button { padding: 10px 30px; border-radius: 8px; border: none; cursor: pointer; font-weight: bold; font-size: 18px; margin: 5px; transition: 0.2s; }
        .btn-show { background: #1d9bf0; color: white; }
        .btn-hide { background: #f91880; color: white; }
        button:hover { opacity: 0.9; transform: scale(1.05); }
    </style>
</head>
<body>
    <h2>ğŸ¦ ØªØ­ÙƒÙ… Ø§Ù„ØªØºØ±ÙŠØ¯Ø§Øª</h2>
    <input type="text" id="tweetUrl" placeholder="Ø§Ù„ØµÙ‚ Ø±Ø§Ø¨Ø· Ø§Ù„ØªØºØ±ÙŠØ¯Ø© Ù‡Ù†Ø§">
    <div>
        <button class="btn-show" onclick="sendTweet()">Ø¹Ø±Ø¶ Ø§Ù„ØªØºØ±ÙŠØ¯Ø©</button>
        <button class="btn-hide" onclick="hideTweet()">Ø¥Ø®ÙØ§Ø¡</button>
    </div>
    <p id="status" style="color: gray; font-size: 14px; margin-top: 20px;">Ø¬Ø§Ù‡Ø²...</p>

    <script>
        // Ù†Ø³ØªØ®Ø¯Ù… BroadcastChannel Ù„Ù„ØªÙˆØ§ØµÙ„ Ø§Ù„ÙÙˆØ±ÙŠ Ù…Ø¹ ØµÙØ­Ø© Ø§Ù„Ø£ÙˆÙØ±Ù„Ø§ÙŠ
        const channel = new BroadcastChannel('zairu_tweets');

        function sendTweet() {
            const url = document.getElementById('tweetUrl').value;
            if (!url) return;
            
            // Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ù…Ø¹Ø±Ù Ø§Ù„ØªØºØ±ÙŠØ¯Ø© (ID) Ù…Ù† Ø§Ù„Ø±Ø§Ø¨Ø·
            const idMatch = url.match(/status\/(\d+)/);
            if (idMatch && idMatch[1]) {
                channel.postMessage({ action: 'show', id: idMatch[1] });
                document.getElementById('status').innerText = 'ØªÙ… Ø§Ù„Ø¥Ø±Ø³Ø§Ù„: ' + idMatch[1];
            } else {
                alert('Ø§Ù„Ø±Ø§Ø¨Ø· ØºÙŠØ± ØµØ­ÙŠØ­!');
            }
        }

        function hideTweet() {
            channel.postMessage({ action: 'hide' });
            document.getElementById('status').innerText = 'ØªÙ… Ø§Ù„Ø¥Ø®ÙØ§Ø¡';
            document.getElementById('tweetUrl').value = '';
        }
    </script>
</body>
</html>